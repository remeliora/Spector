<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="~{fragments/header :: html_header(Devices_Data)}"></head>
<body>
<nav th:replace="~{/fragments/navbar :: navbar_container}"></nav>
<div class="container-fluid">
    <div class="page-title-holder d-flex align-items-center">
        <h1 class="mt-4" style="margin-bottom: 0.9em; margin-left: 0.5em">Данные параметров устройств</h1>
    </div>
    <ul class="list-group"
        style="margin-bottom: 1.5em; margin-left: 0.5em; margin-right: 0.5em" th:each="device, deviceIndex : ${devices}">
        <li class="list-group-item" style="background: #039aff; color: white">
            <h2 th:text="${device.name}"></h2>
        </li>
        <li class="list-group-item">
            <div>
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th style="width: 30%">Название параметра</th>
                        <th style="width: 30%">Значение</th>
                        <th style="width: 10%">Метрика</th>
                        <th style="width: 30%">Описание</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="parameter : ${deviceParameters[__${deviceIndex.index}__]}">
                        <td style="width: 30%" th:text="${parameter.name}"></td>
                        <td style="width: 30%" th:text="${parameterValues[device.name + '-' + parameter.name]}"
                            th:attr="data-parameter-key=${device.name + '-' + parameter.name}"></td>
                        <td style="width: 10%" th:text="${parameter.metric}"></td>
                        <td style="width: 30%" th:text="${parameter.description}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </li>
    </ul>
</div>
<script src="/static/js/fetchDeviceData.js"></script>
</body>
</html>
